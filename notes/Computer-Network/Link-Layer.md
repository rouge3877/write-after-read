---
date: 2024-12-05
title: Link Layer
---


# Link Layer (and LANs)

<!-- The link layer is the second layer in the OSI model of computer networking. It is responsible for the node-to-node delivery of data and handles the physical addressing, error detection, and control of data flow. The link layer ensures that data is transferred reliably across the physical network medium.

Key functions of the link layer include:
- **Framing**: Dividing the data stream into manageable frames.
- **Physical Addressing**: Assigning MAC addresses to devices for identification.
- **Error Detection and Correction**: Identifying and correcting errors that occur during transmission.
- **Flow Control**: Managing the rate of data transmission to prevent congestion.

The link layer is essential for the reliable transmission of data between devices on the same network segment. -->

> Objects of the link layer:
> *  理解数据链路层服务的原理
>     * 检错和纠错
>     * 共享广播信道：多点接入（多路访问）
>     * 链路层寻址
>     * LAN: 以太网、802.11、蓝牙、VLANS
>     * 可靠数据传输、流传输：*done!*
> * 实例和各种链路层技术的实现

## 1. Introduction and Services of the Link Layer

### 1.1 Link Layer Introduction

数据链路层负责从一个节点通过链路将（帧中的）数据报发送到相邻的物理节点（一个子网内部的2节点）   

* Link types:
    * Point-to-point: 不存在共享信道，只有两个节点
        * WAN, 拨号接入时你和ISP的modem
    * Broadcast：多点连接的网络，共享信道，存在编址问题、碰撞问题
        * LAN

* 术语：
    * **Node**: 设备：主机、路由器（网桥和交换机也是）
    * **Link**: 节点之间的通信信道，点到点或者多点连接
    * **Frame**: 传输单元，第二层协议数据单元

### 1.2 Link Layer Services

**<u>一般化的链路层服务，不是所有的链路层都提供这些服务。一个特定的链路层只是提供其中一部分的服务</u>**

1. 成帧，链路接入：
    * 将数据报封装 (**Encapsulation**) 在帧中，加上帧头、帧尾部
    * 如果采用的是共享性介质，信道接入获得信道访问权 (**Access Control**)
    * 在帧头部使用“MAC”（物理）地址来标示源和目的（不同于IP地址）
2. 在相邻节点间（一个子网内）进行可靠的转发
    * **在低差错链路上很少使用 (光纤,一些双绞线)**
        * 出错率低，没有必要在每一个帧中做差错控制的工作，协议复杂 
            – 发送端对每一帧进行差错控制编码，根据反馈做相应的动作 
            – 接收端进行差错控制解码，反馈给发送端（ACK，NAK）
        * 在本层放弃可靠控制的工作，在网络层或者是传输层做可靠控制的工作，或者根本就不做可靠控制的工作
    * 在**高差错链路上需要进行可靠的数据传送**
        * 高差错链路：无线链路：
        * *Q：为什么要在采用无线链路的网络上，链路层做可靠数据传输工作；还要在传输层做端到端的可靠性工作？* 
            * 原因：出错率高，如果在链路层不做差错控制工作，漏出去的错误比较高；到了上层如果需要可靠控制的数据传输代价会很大。如不做local recovery 工作，总体代价大
3. 流量控制：
    * 使得相邻的发送和接收方节点的速度匹配
4. 错误检测：
    * 差错由信号衰减和噪声引起
    * 接收方检测出的错误: 通知发送端进行重传或丢弃帧
5. 差错纠正:
    * 接收端检查和纠正bit错误，不通过重传来纠正错误
6. 半双工和全双工:
    * 半双工：链路可以双向传输，但一次只有一个方向

链路层在哪里实现？
* 在每一个主机上
    * 也在每个路由器上
    * 交换机的每个端口上
* 链路层功能在“适配器”上实现 (aka network interface card, NIC; adapter) 或者在一个芯片组上
    * 以太网卡，802.11 网卡; 以太网芯片组
    * 实现链路层和相应的物理层功能
* 接到主机的系统总线上
* 硬件、软件和固件的综合体 


## 2. 差错检测和纠正

错误检测不是100%可靠的! 协议会漏检一些错误，但是很少。更长的EDC字段可以得到更好的检测和纠正效果

EDC (Error Detection and Correction)技术：
* 使得接收方能够检测出数据传输中的错误
* 使得接收方能够纠正数据传输中的错误

Internet校验和：
* 检测在传输报文段时的错误（如位翻转），（注：仅仅用在传输层）
* 发送方：
    * 将报文段看成16-bit整数
    * 报文段的校验和: 和 (1’的补码和)
    * 发送方将checksum的值放在‘UDP校验和’字段
* 接收方
    * 计算接收到的报文段的校验和
    * 检查是否与携带校验和字段值一致: 
        * 不一致：检出错误 
        * 一致：没有检出错误，但可能还是有错误

### 2.1 parity checks

* 单比特奇偶校验
    * 奇校验：使得数据位的总数为奇数
    * 偶校验：使得数据位的总数为偶数
    * 问题：只能检测出奇数个bit的错误，不能检测出偶数个bit的错误
* 2维奇偶校验
    * 每一行和每一列的奇偶校验位
    * 可以检测出奇数个bit的错误，但不能检测出偶数个bit的错误

### 2.2 CRC (Cyclic Redundancy Check)

#### 2.2.1 CRC Basics
1. modulo-2 arithmetic
    * 二进制数的加法和减法
    * 无进位加法 (**add is like <u>XOR</u>**)
    * 无借位减法 (**sub is like <u>XOR</u>**)

2. 2 representations of bit string
    * 二进制数: $1011$
    * 多项式: $x^3 + x + 1$
        * 二进制数的多项式表示
        * 二进制数的多项式加法和减法
    
3. CRC generator
    * 约定生成多项式: $G(x)$
    * 生成多项式的次数: $r$ (**r+1位**), e.g. $x^3 + x + 1$ -> $r=3$, $4'b1011$

4. CRC encoding: $D(x) * x^r mod G(x)$ | [D(x), data bits]+[R(x), r bits]
    * Data string: $D(x)$
    * $R(x)$: 余数, **长度为$r$的多项式，也就是次数为小于等于$r-1$的多项式**
    * $T(x)$: 发送的帧, $T(x) = D(x) * x^r + R(x)$, $R(x) = D(x) * x^r mod G(x)$
        * $D(x) * x^r = D(x) << r$: 将数据位左移$r$位
        * $D(x) << r ^ R(x) = n * G(x)$
        * $D(X) << r ^ R(x) ^ R(x) = n * G(x) ^ R(x)$
        * $D(x) << r = n * G(x) ^ R(x)$
        * $R(x) = D(x) * x^r mod G(x)$
    * **除法中，采用的是模2除法，也就是异或运算**

5. CRC checking
    * 接收方计算$R(x) = T(x) mod G(x)$
    * 如果$R(x) = 0$, 说明没有错误
    * 如果$R(x) \neq 0$, 说明有错误
    * **除法中，采用的是模2除法，也就是异或运算**
    
#### 2.2.2 CRC Example
![CRC Example](https://raw.githubusercontent.com/rouge3877/ImageHosting/main/CRC_example.png)

#### 2.2.3 CRC Performance

* 能够检查出所有的1bit错误
* 能够检查出所有的双bits的错误
* 能够检查出所有长度 $=r$ 或者 $<r$ 位的错误
* 出现长度为 $r+1$ 的突发错误，检查不出的概率是 $\frac{1}{2^{r-1}}$
* 出现长度大于 $r+1$ 的突发错误，检查不出的概率 $\frac{1}{2^{r}}$
    

## 3. 多点访问协议

两种类型的链路（一个子网内部链路连接形式）：
* 点对点
    * 拨号访问的PPP
    * 以太网交换机和主机之间的点对点链路
* 广播 (共享线路或媒体) -> **<u>对于一个共享型介质，各个节点如何协调对它的访问和使用?</u>**
    * 传统以太网
    * HFC上行链路
    * 802.11无线局域网

### 3.1 多路访问协议 intro

> * 单个共享的广播型链路
> * 2个或更多站点同时传送: **冲突（collision）（*有线网络：发送电磁波的数量不同-幅度不同*）**
>     * 多个节点在同一个时刻发送，则会收到2个或多个信号叠加

* 分布式算法-决定节点如何使用共享信道，即：决定节点什么时候可以发送？
* 关于共享控制的通信必须用**借助信道本身**传输！
    * 没有**带外的信道**，各节点使用其协调信道使用
    * 用于传输控制信息

* 理想的多路访问协议
    * 给定：Rbps的广播信道
    * 必要条件：
        1. 当一个节点要发送时，可以R速率发送
        2. 当M个节点要发送，每个可以以R/M的平均速率发送
        3. 完全分布的:
            * 没有特殊节点协调发送
            * 没有时钟和时隙的同步
        4. 简单
    


### 3.2  介质访问控制协议：MAC (Medium Access Control)

> MAC（媒体访问控制）协议分为3大类:
> * 信道划分
>     * 把信道划分成小片（时间、频率、编码）
>     * 分配片给每个节点专用
> * 随机访问
>     * 信道不划分，允许冲突
>     * 冲突后恢复
> * 依次轮流
>     * 节点依次轮流
>     * 但是有很多数据传输的节点可以获得较长的信道使用权
>
> 利用率：
> * **信道划分**协议在低负载时效率低，高负载时效率高
> * **随机访问**协议在低负载时效率高，高负载时效率低
> * **依次轮流**协议在低负载、高负载时效率都是不错，但是太复杂了

#### 3.2.1 信道划分协议 (Channel Partitioning)

* TDM:不同的人在不同的时刻讲话
* FDM:不同的组在不同的小房间里通信
* CDMA:不同的人使用不同的语言讲话

#### 3.2.2 随机访问协议 (Random Access Protocols)

* 当节点有帧要发送时
    * 以信道带宽的全部 R bps发送
    * 没有节点间的预先协调
* 两个或更多节点同时传输，会发生➜冲突“collision” 
* 随机存取协议规定:
    * 如何检测冲突
    * 如何从冲突中恢复（如：通过稍后的重传）
* 随机MAC协议:
    * 时隙ALOHA
    * ALOHA
    * CSMA, CSMA/CD, CSMA/CA

##### 3.2.2.1 ALOHA

* 机制
* 算法
* 效率

##### 3.2.2.2 CSMA (Carrier Sense Multiple Access)

* 机制
* 算法
* 效率

##### 3.2.2.3 CSMA/CD (Collision Detection)

* 机制
* 算法
* 效率

##### 3.2.2.4 CSMA/CA (Collision Avoidance)

在无线网络中，由于信号传播延迟和隐藏节点问题，CSMA/CD不适用，因此采用CSMA/CA
* 在有线媒介中，基本上 不冲突 == 成功
* 在无线媒介中，不冲突 != 成功, 有可能发生 **<u>隐藏节点</u>** 问题; 冲突 != 失败, 有可能发生 **<u>暴露节点</u>** 问题

所以，CSMA/CA的基本思想是：由于过程中难以检测到冲突 (***不做冲突检测，没用!***)，所以在发送数据之前做好避免冲突的工作
* **发送方**:信道空闲时递减
    1. 如果站点侦测到信道空闲持续DIFS长，则传输整个帧 (no CD)
        * DIFS (Distributed Inter-Frame Space): 信道空闲的时间间隔
    2. 如果侦测到信道忙碌，那么
        - 选择一个随机回退值，并在**信道空闲时递减**该值；如果信道忙碌，回退值不会变化
        - 到数到0时（只生在信道闲时）发送整个帧如果没有收到ACK, 增加回退值，重复2
* **802.11 接收方**: 
    - 如果帧正确，则在SIFS后发送ACK
        * SIFS (Short Inter-Frame Space): 信道空闲的时间间隔
    - 确认帧的等待时间比数据帧的等待时间短，也就是**确认帧的优先级高于数据帧**
    - (*无线链路特性，需要每帧确认；例如：由于隐藏终端问题，在接收端可能形成干扰,接收方没有正确地收到。链路层可靠机制需要确认帧* - ***无法CD导致的~***)

***在count down时，侦听到了信道空闲为什么不发送，而要等到0时在发送 ?***
*  2个站点有数据帧需要发送，第三个节点正在发送
*  LAN - CD: 让2者听完第三个节点发完，立即发送
    * 冲突：放弃当前的发送，避免了信道的浪费于无用冲突帧的发送
    * 代价不昂贵
*  WLAN - CA: 2者等到第三个节点发完，稍等后再发送
    * 无法CD，**一旦发送就必须发完**，如冲突信道浪费严重，代价高昂
    * 思想：尽量事先避免冲突，而不是在发生冲突时放弃然后重发
    * 听到发送的站点，分别选择随机值，回退到0发送 – 不同的随机值，一个站点会胜利 – 失败站点会冻结计数器，当胜利节点发完再发

无法完全避免冲突
* 两个站点相互隐藏：
    * A,B 相互隐藏，C在传输
* *采用小的预约分组，可以完全避免数据帧的冲突(可选), ：RTS-CTS 交换*
    * ![RTS-CTS](https://raw.githubusercontent.com/rouge3877/ImageHosting/main/RTS-CTS.png)

##### 3.2.2.5 线缆接入网络

![DOCSIS](https://raw.githubusercontent.com/rouge3877/ImageHosting/main/DOCSIS.png)



#### 3.2.3 轮流 (Taking Turns) MAC协议

1. 轮询：有一个master节点控制
    * **主节点**邀请**从节点**依次传送
    * 从节点一般比较“dumb” （dumb: 无需做决策）
    * 缺点: 
        * 轮询开销：轮询本身消耗信道带宽 
        * 等待时间：每个节点需等到主节点轮询后开始传输，即使只有一个节点，也需要等到轮询一周后才能够发送 
        * **单点故障：主节点失效时造成整个系统无法工作**
2. 令牌传递：有一个特殊的“令牌”在网络中传递
    * 控制 **令牌 (token)** 循环从一个节点到下一个节点传递
        * 令牌报文：控制传输的特殊帧
    * 令牌在网络中轮转（逻辑上，物理上可能是有次序的令牌总线、环）
    * 发送方：只有拿到令牌才能发送
        * 如果有数据要发送，将令牌的相应标志位设置为1，然后在令牌末尾加上数据帧
        * 发送完数据后，**绕完一周**，将令牌的相应标志位设置为0，然后传递给下一个节点（***谁发的谁吸收***）
    * 接收方：接收到令牌后，检查令牌的标志位
        * 如果标志位为1，说明有数据要发送，接收数据帧，然后将令牌的标志位设置为0，然后传递给下一个节点
        * 如果标志位为0，说明没有数据要发送，直接传递给下一个节点
    * 缺点：
        * 令牌传递的开销：令牌传递的开销比较大
        * 单点故障：令牌失效时，整个系统无法工作，且具有复杂的机制来检测和恢复令牌

## 4. LANs

### 4.1 Addressing and ARP

#### 4.1.1 IP and MAC Addresses
32bit IP地址:
* 网络层地址：分层的，用于在路由时进行**聚集**和**细分**
* **前n-1跳**：用于使数据报到达目的IP子网 (**按照子网路由**)
* **最后一跳**：到达子网中的目标节点

LAN（MAC/物理/以太网）地址:
* 用于使帧从一个网卡传递到与其物理连接的另一个网卡 (在同一个物理网络中)
* 48bit MAC地址固化在适配器的ROM，*有时也可以通过软件设定*
* 理论上全球任何2个网卡的MAC地址都不相同
    * *事实上，只要在同一个局域网中，MAC地址不重复即可*
* e.g.: 1A-2F-BB-76-09-AD

**IP地址和MAC地址的作用不同，*网络地址和mac地址分离***
* IP地址是**分层**的，不能随意移动（*入乡随俗*）
    * 一个子网所有站点网络号一致，路由聚集，减少路由表
    * 需要一个网络中的站点地址网络号一致，如果捆绑需要定制网卡非常麻烦
    * 希望网络层地址是配置的；IP地址完成网络到网络的交付
* mac地址是一个**平面**的
    * 网卡在生产时不知道被用于哪个网络，因此给网卡一个唯一的标示，用于区分一个网络内部不同的网卡即可
    * 可以完成一个物理网络内部的节点到节点的数据交付
* 分离好处：
    * 网卡坏了，ip不变，可以捆绑到另外一个网卡的mac上
    * 物理网络还可以除IP之外支持其他网络层协议，链路协议为任意上层网络协议， 如IPX等
* 捆绑的问题：
    * 如果仅仅使用IP地址，不用mac地址，那么它仅支持IP协议
    * 每次上电都要重新写入网卡 IP地址；
    * 另外一个选择就是不使用任何地址；不用MAC地址，则每到来一个帧都要上传到IP层次，由它判断是不是需要接受，干扰一次

#### LAN Addresses and ARP

* 以太网地址是48bit的，以太网地址是全球唯一的（理论上）。由IEEE管理和分配，制造商购入MAC地址空间（确保唯一性）
    * Broadcast地址：FF-FF-FF-FF-FF-FF

* ARP (Address Resolution Protocol)
    * 用于将IP地址映射到MAC地址
    * 一个节点知道IP地址，但是不知道MAC地址，需要ARP协议来获取MAC地址
    * ARP请求**广播包含目标IP的ARP查询包**到所有节点，目标节点收到ARP请求后，返回ARP响应，包含自己的MAC地址
        * ARP请求是广播的
        * **ARP响应是单播的：帧发送给A，用A的MAC地址（单播）**
    * ARP缓存：ARP响应后，源节点将IP地址和MAC地址的映射关系存储在ARP缓存中，以便下次使用

* ARP Table
    * `<IP address, MAC address, TTL>`
    * TTL (Time To Live): ARP表项的生存时间，超过TTL后，ARP表项将被删除
    * TTL典型值：20分钟
    
* ARP Request and Reply



### 4.2 Ethernet

![Metcalfe's Ethernet sketch](https://raw.githubusercontent.com/rouge3877/ImageHosting/main/Metcalfe_Ethernet_sketch.png)

#### 4.2.1 Physical Topology

`BUS (phy: bus | logi: bus) -> HUB (phy: star | logi: bus) -> Switch (phy: star | logi: star)`

* Bus Topology: Popular in the 1980s
    * 所有节点在一个**碰撞域**内，一次只能有一个节点发送
    * 可靠性差，如果介质破损，截面形成信号的反射，发送节点误认为是冲突 -> 总是冲突
* Star Topology: Popular today
    * hub or Switch
    * 每个节点以及相连的交换机端口使用（独立的）以太网协议（不会和其他节点的发送产生碰撞）
    * 交换机端口是独立的碰撞域、广播域
    * hub端口是共享的碰撞域、广播域

#### 4.2.2 Ethernet Frame Structure

发送方适配器在以太网帧中封装IP数据报，或其他网络层协议数据单元

以太网帧结构: |Preamble|DestAddr|SrcAddr|Type|Data|CRC|
| 名字       | 长短             | 目的             | 说明（括号中的部分）                                                                 |
|------------|------------------|------------------|--------------------------------------------------------------------------------------|
| **Preamble** | 7字节的10101010 + 1字节的10101011 | 用于同步         | **用来同步接收方和发送方的时钟速率** 。使得接收方将自己的时钟调到发送端的时钟，从而可以按照发送端的时钟来接收所发送的帧                                                |
| **DestAddr** | 6字节           | 目的MAC地址      | **匹配MAC地址时 or 广播地址FF-FF-FF-FF-FF-FF or 混杂模式**                                             |
| **SrcAddr**  | 6字节           | 源MAC地址        |                                                                                      |
| **Type**     | 2字节           | 类型字段         | 指示上层协议类型。(指出高层协议，大多情况下是IP，但也支持其它网络层协议Novell IPX和AppleTalk) |
| **Data**     | 46-1500字节     | 数据             |                                                                                      |
| **CRC**      | 4字节           | 循环冗余校验     | 用于检测帧的错误，用于接收方一边接受一边检验CRC                                                                     |
    
#### 4.2.3 Feature

本身就比较可靠了，所以不需要在链路层做可靠传输的工作
* **无连接**：帧传输前，发送方和接收方之间没有握手
* **不可靠**：接收方适配器不发送 `ACKs` 或 `NAKs` 给发送方
    * 递交给网络层的数据报流可能有 `gap`
    * 如上层使用像传输层TCP协议这样的 `rdt` ， `gap` 会被补上(源主机，TCP实体)
    * 否则，应用层就会看到 `gap`
* 以太网的MAC协议：采用二进制退避的CSMA/CD介质访问控制形式

#### 4.2.4 802.3 以太网标准：链路和物理层

很多不同的以太网标准
* **相同**的MAC协议（介质访问控制）和帧结构
* **不同**的速率：2 Mbps、10 Mbps 、100 Mbps 、 1Gbps、 10G bps
* **不同**的物理层标准
* **不同**的物理层媒介：光纤，同轴电缆和双绞线(多采用双绞线)
* ![Ethernet Standard](https://raw.githubusercontent.com/rouge3877/ImageHosting/main/Ethernet_Standard.png)
    * 100：100Mbps (***100Mbps是指的基带传输速率，不是带宽，所以这里的M表示以10^6为单位***)
    * BASE：基带传输（不要调制到载波上）
    * T：双绞线（拧合后减小干扰）

编码：
* Manchester （10Mbps，使用20M带宽，效率50%）（十兆以太网）
* 4b5b 编码（百兆以太网）
* 8b10b编码（千兆以太网）

#### 4.2.5 以太网使用的CSMA/CD


### 4.3 802.11 Wireless LANs

### 4.4 Hubs and Switches

#### 4.4.1 Hubs

* **盒中总线**：所有的帧都被广播到所有的端口上，物理上是星形拓扑，逻辑上是总线拓扑

* 在一个**碰撞域**，同时只允许一个站点在发送数据
    * **网段(LAN segments)** ：可以允许一个站点发送的网络范围。***一个网段是一个碰撞域***
    * **碰撞域**：所有的站点在一个碰撞域内，一次只能有一个站点发送数据

* 通过hub可扩展节点之间的最大距离，但是不能扩展碰撞域的大小

* 通过HUB,**不能**将10BaseT和100BaseT的网络连接到一起

#### 4.4.2 Switches

##### 4.4.2.1 交换机

多路同时传输 - 换：A-to-A’ 和 B-to-B’ 可以同时传输，没有碰撞
* ***交换机内部保存了端口和MAC的对应关系，但是switch端口上没有MAC地址，这点和router不同***
    * 因此**透明**：主机对交换机的存在可以不关心
    * > 交换机的MAC地址在交换机进行数据交换时是没有作用的，因为交换机并不对转发的数据帧进行拆包重封装。 所以对于交换机来说，如果只是完成数据帧交换，则可以不要MAC地址。 但是，若要求交换机有网管功能，即需要远程登录管理，则交换机必须有一个MAC地址，如此用户才可以对交换机进行远程登录管理。
* 即插即用，自学习 - 交换机无需配置
* 每个端口是一个**独立的碰撞域（网段）**
* 当帧需要向某个（些）网段进行转发，需要使用CSMA/CD进行接入控制 （*或许不需要，因为是独立的碰撞域*）
    * 对每个帧进入的链路使用以太网协议，没有碰撞；全双工
    * 每条链路都是一个独立的碰撞域
    * MAC协议在其中的作用弱化了

##### 4.4.2.2 交换机：转发表, 自学习 和 STP

转发表：
* 交换机的转发表是一个**MAC地址和端口的映射表**
* 表项：`<MAC address, Port, TTL>`
    * TTL：表项的生存时间，超过TTL后，表项将被删除
    * TTL典型值：300秒

**自学习 (Self-learning)：**
* 交换机通过**帧的源MAC地址**来学习转发表
* 当一个帧到达交换机时：
    * 如果源MAC地址已经在转发表中，更新表项的TTL，**转发**：将帧发送到目的端口
    * 如果源MAC地址和目的MAC地址**相同**，**丢弃帧**：避免帧在网络中循环，要考虑级联的情况
    * 如果源MAC地址不在转发表中，添加一个新的表项。**flood**：将帧发送到除了接收端口之外的所有端口上

**生成树协议 (Spanning Tree Protocol, STP)**
* 交换机之间的连接形成一个图，可能有环路
* 避免**广播风暴**：交换机之间的环路可能导致广播风暴
* STP：通过**生成树算法**找到一个**无环路的树**，并且**禁止**掉一些端口，使得交换机之间的连接形成一个树
    * 生成树算法：找到一个无环路的树
    * 禁止端口：使得交换机之间的连接形成一个树





### 4.5 VLANs

## 5. Link Virtualization: MPLS

## 6. Data Center Networking

## 7. a day in the life of a web request



# TODO

1. ARP request and reply
2. VLANS
3. WLAN
4. length and CSMA/CD
5. physical layer
6. data center networking
7. MPLS
8. USTC network topology diagram: why no router - arp storm
9. 碰撞域、网段、冲突域和广播域的关系和区别是什么


# Q&A
1. 碰撞域、网段、冲突域和广播域的关系和区别是什么
2. USTC network topology diagram: why no router - arp storm
3. 在进行链路层学习时我面临了一些困扰。在讨论比如十兆以太网时，老师说十兆以太网采用的Manchester编码效率不高，因为其需要20M带宽。我不理解的是，为什么十兆以太网需要20M带宽，带宽指的不应该就是传输的最大速率每，还有如果十兆以太网需要20M带宽，那么十兆以太网的十兆是什么。最后就是我对与网络中这些单位不是很清楚，什么时候表示什么含义，以及什么时候以2为底，什么时候以10为底
4. 一个子网和一个子网之间通过网关路由器之间的链路传输信息，这两个路由器之间的链路加上这两个路由器应该称作一个子网吗？应该称作一个LAN吗？
5. 子网、网段、LAN之间的关系是什么？